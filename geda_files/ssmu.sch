v 20130925 2
C 20200 21700 1 0 0 resistor-1.sym
{
T 20500 22100 5 10 0 0 0 0 1
device=RESISTOR
T 20200 21900 5 10 1 1 0 0 1
refdes=R1
T 20200 21700 5 10 0 0 0 0 1
footprint=0805
T 20200 21700 5 10 0 0 0 0 1
cost=?
}
C 8600 24200 1 0 0 connector2-1.sym
{
T 8800 25200 5 10 0 0 0 0 1
device=CONNECTOR_2
T 8600 25000 5 10 1 1 0 0 1
refdes=CONN3
T 8600 24200 5 10 0 0 0 0 1
footprint=JUMPER2
T 8600 24200 5 10 0 0 0 0 1
cost=?
}
N 10300 24700 10500 24700 4
{
T 10600 24700 5 10 1 1 0 0 1
netname=DUT_IN
}
N 10300 24400 10500 24400 4
{
T 10600 24400 5 10 1 1 0 0 1
netname=DUT_OUT
}
N 18200 10800 20300 10800 4
{
T 18100 10800 5 10 1 1 0 6 1
netname=DUT_OUT
}
N 6900 12500 6700 12500 4
{
T 6600 12500 5 10 1 1 0 6 1
netname=DAC_I
}
C 11300 11600 1 0 1 opamp-1.sym
{
T 10600 12400 5 10 0 0 0 6 1
device=OPAMP
T 10600 12300 5 10 1 1 0 6 1
refdes=U9
T 10600 13000 5 10 0 0 0 6 1
symversion=0.1
T 11300 11600 5 10 0 0 0 0 1
cost=?
}
C 12400 12300 1 90 0 resistor-1.sym
{
T 12000 12600 5 10 0 0 90 0 1
device=RESISTOR
T 12700 13100 5 10 1 1 180 0 1
refdes=R3
T 12400 12300 5 10 0 0 90 0 1
footprint=0805
T 12400 12300 5 10 0 0 0 0 1
cost=?
}
N 12300 12300 12300 12100 4
{
T 12100 11800 5 10 1 1 0 0 1
netname=I_SRC
}
N 11300 12200 12300 12200 4
N 10800 11400 10800 11600 4
N 10800 12500 10800 12400 4
N 10100 12000 10300 12000 4
T 12400 12600 9 10 1 0 0 0 1
I = DAC_I/R
N 21100 21800 21600 21800 4
{
T 21100 21600 5 10 1 1 0 0 1
netname=I_OUT_1
}
N 20200 21800 19700 21800 4
{
T 20200 21600 5 10 1 1 0 6 1
netname=I_IN_1
}
N 21200 21800 21200 22500 4
C 18400 8700 1 90 0 pot-bourns.sym
{
T 17500 9500 5 10 0 0 90 0 1
device=VARIABLE_RESISTOR
T 18700 9500 5 10 1 1 180 0 1
refdes=R5
T 18400 8700 5 10 0 0 0 0 1
cost=?
}
C 18200 8200 1 0 0 gnd-1.sym
C 18300 9800 1 90 0 switch-spst-1.sym
{
T 17600 10200 5 10 0 0 90 0 1
device=SPST
T 18600 10300 5 10 1 1 180 0 1
refdes=S?
}
N 18300 8700 18300 8500 4
N 18300 9800 18300 9600 4
N 18300 10600 18300 10800 4
T 11000 12500 9 10 1 0 0 0 1
AD8603
C 6700 13400 1 0 0 gnd-1.sym
C 8100 14300 1 0 0 5V-plus-1.sym
C 6900 12000 1 0 0 AD8276.sym
{
T 9595 14095 5 10 1 1 0 0 1
refdes=U8
T 6900 12000 5 10 0 0 0 0 1
cost=2.74
}
C 10600 12500 1 0 0 5V-plus-1.sym
N 10100 11100 10100 12500 4
N 10100 12500 10000 12500 4
N 11300 11800 11400 11800 4
N 11400 11800 11400 11100 4
N 10100 11100 11400 11100 4
N 12300 13200 12300 13700 4
N 10000 13100 11600 13100 4
N 6900 13700 6800 13700 4
N 8300 14200 8300 14300 4
N 8300 11500 8300 12000 4
T 7900 15200 9 30 1 0 0 0 1
Current Source
T 8100 21000 9 30 1 0 0 0 1
DAC Amplifier + Filter
C 17100 22100 1 0 0 vcc-1.sym
N 19600 22900 19800 22900 4
{
T 19900 22900 5 10 1 1 0 0 1
netname=I_SENSE_1
}
T 18000 24500 9 30 1 0 0 0 1
Current Sense
T 10000 27100 9 30 1 0 0 0 1
Connectors
T 17800 15100 9 30 1 0 0 0 1
ADC Voltage Scaling
T 16000 8900 9 10 1 0 0 0 1
adj resistor for LCR meter
C 33800 11000 1 0 0 STM32L100RBT6.sym
{
T 34100 23000 5 10 1 1 0 0 1
refdes=U1
T 36400 23000 5 10 1 1 0 0 1
device=STM32L100RBT6
T 34100 23300 5 10 0 0 0 0 1
footprint=LQFP64_10
T 33800 11000 5 10 0 0 0 0 1
cost=5.84
}
T 34200 23500 9 30 1 0 0 0 1
Microcontroller
N 38100 22100 38300 22100 4
{
T 38400 22100 5 10 1 1 0 0 1
netname=ADC_0
}
N 38100 21800 38300 21800 4
{
T 38400 21800 5 10 1 1 0 0 1
netname=ADC_1
}
N 38100 22400 38300 22400 4
{
T 38400 22400 5 10 1 1 0 0 1
netname=I_SENSE_1
}
N 38100 21500 38300 21500 4
{
T 38400 21500 5 10 1 1 0 0 1
netname=DAC_V
}
B 16500 18300 6200 6800 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
B 4800 18100 11200 3700 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
B 5900 10800 7600 5200 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
C 8600 22400 1 0 0 connector4-1.sym
{
T 10400 23300 5 10 0 0 0 0 1
device=CONNECTOR_4
T 8600 23800 5 10 1 1 0 0 1
refdes=USB
T 8600 22400 5 10 0 0 0 0 1
cost=?
}
C 11900 24100 1 0 0 connector3-1.sym
{
T 13700 25000 5 10 0 0 0 0 1
device=CONNECTOR_3
T 11900 25200 5 10 1 1 0 0 1
refdes=SPI
T 11900 24100 5 10 0 0 0 0 1
cost=?
}
C 11800 22500 1 0 0 connector3-1.sym
{
T 13600 23400 5 10 0 0 0 0 1
device=CONNECTOR_3
T 11800 23600 5 10 1 1 0 0 1
refdes=USART
T 11800 22500 5 10 0 0 0 0 1
cost=?
}
B 8300 22100 6400 5700 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
C 17500 21800 1 0 0 INA213.sym
{
T 19095 23195 5 10 1 1 0 0 1
refdes=U6
T 17695 21800 5 10 1 1 0 0 1
footprint=MY_SC70_6
T 17500 21800 5 10 0 0 0 0 1
cost=1.87
T 17500 21800 5 10 0 0 0 0 1
device=INA213AIDCKR
}
N 17500 22100 17300 22100 4
C 16800 22200 1 0 0 gnd-1.sym
N 16900 22500 17500 22500 4
N 19600 22100 20100 22100 4
N 20100 21800 20100 22100 4
N 21200 22500 19600 22500 4
C 20300 19200 1 0 0 resistor-1.sym
{
T 20600 19600 5 10 0 0 0 0 1
device=RESISTOR
T 20300 19200 5 10 0 0 0 0 1
footprint=0805
T 20300 19400 5 10 1 1 0 0 1
refdes=R2
T 20300 19200 5 10 0 0 0 0 1
cost=?
}
N 21200 19300 21600 19300 4
{
T 21100 19100 5 10 1 1 0 0 1
netname=I_OUT_2
}
N 20300 19300 19700 19300 4
{
T 20200 19100 5 10 1 1 0 6 1
netname=I_IN_2
}
N 21200 19300 21200 20000 4
C 17100 19600 1 0 0 vcc-1.sym
N 19600 20400 19800 20400 4
{
T 19900 20400 5 10 1 1 0 0 1
netname=I_SENSE_2
}
C 17500 19300 1 0 0 INA213.sym
{
T 19095 20695 5 10 1 1 0 0 1
refdes=U7
T 17695 19300 5 10 1 1 0 0 1
footprint=MY_SC70_6
T 17500 19300 5 10 0 0 0 0 1
device=INA213AIDCKR
T 17500 19300 5 10 0 0 0 0 1
cost=1.87
}
N 17500 19600 17300 19600 4
C 16800 19700 1 0 0 gnd-1.sym
N 16900 20000 17500 20000 4
N 19600 19600 20100 19600 4
N 20100 19300 20100 19600 4
N 21200 20000 19600 20000 4
N 39600 22400 39800 22400 4
{
T 39900 22400 5 10 1 1 0 0 1
netname=I_SENSE_2
}
T 24900 24200 9 30 1 0 0 0 1
Power
C 10200 23500 1 0 0 v_usb.sym
C 10400 22300 1 0 0 gnd-1.sym
N 10500 22600 10300 22600 4
N 10500 23500 10300 23500 4
C 23700 23300 1 0 0 v_usb.sym
T 24600 22700 9 10 1 0 0 0 1
5V -> 3.3V LDO
B 24500 22500 1600 500 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
N 24500 22700 24000 22700 4
N 24000 22700 24000 23300 4
C 25200 22200 1 0 0 gnd-1.sym
C 26300 23300 1 0 0 3.3V-plus-1.sym
N 26500 23300 26500 22700 4
N 26500 22700 26100 22700 4
T 24700 21700 9 10 1 0 0 0 3
Possible LDOs:
MIC5205YM5
$0.62
C 27100 22100 1 90 0 capacitor-1.sym
{
T 26400 22300 5 10 0 0 90 0 1
device=CAPACITOR
T 27200 22800 5 10 1 1 180 0 1
refdes=C2
T 26200 22300 5 10 0 0 90 0 1
symversion=0.1
T 27100 22100 5 10 0 0 0 0 1
cost=?
}
C 23900 22100 1 90 0 capacitor-1.sym
{
T 23200 22300 5 10 0 0 90 0 1
device=CAPACITOR
T 23500 22700 5 10 1 1 180 0 1
refdes=C1
T 23000 22300 5 10 0 0 90 0 1
symversion=0.1
T 23900 22100 5 10 0 0 0 0 1
cost=?
}
T 25300 16600 9 30 1 0 0 0 1
DUT
B 25200 16500 1300 600 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
N 26500 16800 27800 16800 4
{
T 26700 17000 5 10 1 1 0 0 1
netname=DUT_OUT
}
N 24300 16800 25200 16800 4
{
T 25000 17000 5 10 1 1 0 6 1
netname=DUT_IN
}
N 27100 16800 27100 16900 4
N 24700 16800 24700 16900 4
C 27800 16900 1 270 0 jumper-1.sym
{
T 28300 16600 5 8 0 0 270 0 1
device=JUMPER
T 28000 17000 5 10 1 1 0 0 1
refdes=J2
}
C 23300 16900 1 270 0 jumper-1.sym
{
T 23800 16600 5 8 0 0 270 0 1
device=JUMPER
T 23500 17000 5 10 1 1 0 0 1
refdes=J1
}
C 8600 25600 1 0 0 connector2-1.sym
{
T 8800 26600 5 10 0 0 0 0 1
device=CONNECTOR_2
T 8600 26400 5 10 1 1 0 0 1
refdes=CONN1
T 8600 25600 5 10 0 0 0 0 1
footprint=JUMPER2
T 8600 25600 5 10 0 0 0 0 1
cost=?
}
N 10300 26100 10500 26100 4
{
T 10600 26100 5 10 1 1 0 0 1
netname=I_IN_1
}
N 10300 25800 10500 25800 4
{
T 10600 25800 5 10 1 1 0 0 1
netname=I_OUT_1
}
C 11800 25600 1 0 0 connector2-1.sym
{
T 12000 26600 5 10 0 0 0 0 1
device=CONNECTOR_2
T 11800 25600 5 10 0 0 0 0 1
footprint=JUMPER2
T 11800 26400 5 10 1 1 0 0 1
refdes=CONN2
T 11800 25600 5 10 0 0 0 0 1
cost=?
}
N 13500 26100 13700 26100 4
{
T 13800 26100 5 10 1 1 0 0 1
netname=I_IN_2
}
N 13500 25800 13700 25800 4
{
T 13800 25800 5 10 1 1 0 0 1
netname=I_OUT_2
}
T 24100 16000 9 10 1 0 0 0 1
short these jumpers if not using current sense
N 6400 19900 6200 19900 4
{
T 6100 19900 5 10 1 1 0 6 1
netname=DAC_V
}
N 9100 19900 9300 19900 4
{
T 9400 19900 5 10 1 1 0 0 1
netname=V_SRC_1
}
C 13400 18500 1 0 0 gnd-1.sym
N 14800 19900 15000 19900 4
{
T 15100 19900 5 10 1 1 0 0 1
netname=V_SRC_2
}
N 12100 19900 11900 19900 4
{
T 11800 19900 5 10 1 1 0 6 1
netname=DAC_I
}
T 9500 12900 9 10 1 0 0 0 1
+/- 15mA
T 8400 14300 9 10 1 0 0 0 1
200uA supply
T 16600 19400 9 10 1 0 0 0 1
100uA supply
T 16600 21800 9 10 1 0 0 0 1
100uA supply
T 18800 24300 9 10 1 0 0 0 1
Total current = 200uA
C 20400 12500 1 0 0 gnd-1.sym
N 18800 13900 18600 13900 4
{
T 18500 13900 5 10 1 1 0 6 1
netname=DUT_IN
}
B 15800 7600 8300 8300 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
N 12300 13400 11600 13400 4
N 11600 13400 11600 13100 4
N 10000 13700 12300 13700 4
C 8400 11500 1 0 0 5V-minus-1.sym
N 8600 11500 8300 11500 4
C 10300 11400 1 0 0 5V-minus-1.sym
N 10500 11400 10800 11400 4
N 18800 13600 18600 13600 4
{
T 18500 13600 5 10 1 1 0 6 1
netname=AMP_OFFSET
}
C 12100 19000 1 0 0 dac_amp.sym
{
T 14595 20200 5 10 1 1 0 6 1
refdes=U3
T 12100 19000 5 10 0 0 0 0 1
source=dac_amp.sch
}
C 6400 19000 1 0 0 dac_amp.sym
{
T 8895 20200 5 10 1 1 0 6 1
refdes=U2
T 6400 19000 5 10 0 0 0 0 1
source=dac_amp.sch
}
C 12600 18500 1 0 0 5V-plus-1.sym
C 14000 18500 1 0 0 5V-minus-1.sym
N 13000 19000 13000 18500 4
N 13000 18500 12800 18500 4
N 13500 18800 13500 19000 4
N 14000 19000 14000 18500 4
N 14000 18500 14200 18500 4
C 7700 18500 1 0 0 gnd-1.sym
C 6900 18500 1 0 0 5V-plus-1.sym
C 8300 18500 1 0 0 5V-minus-1.sym
N 7300 19000 7300 18500 4
N 7300 18500 7100 18500 4
N 7800 18800 7800 19000 4
N 8300 19000 8300 18500 4
N 8300 18500 8500 18500 4
N 25400 20200 25400 19700 4
{
T 25900 20300 5 10 1 1 0 6 1
netname=AMP_OFFSET
}
N 26400 18800 25400 18800 4
N 25400 18800 25400 19700 4
C 27500 19200 1 0 0 gnd-1.sym
N 27600 19700 27600 19500 4
N 25300 19700 25500 19700 4
C 24000 19700 1 0 0 5V-plus-1.sym
N 24400 19700 24200 19700 4
T 24800 20700 9 15 1 0 0 0 1
2.5V reference
B 23800 18000 4900 3000 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
N 6400 19600 6200 19600 4
{
T 6100 19600 5 10 1 1 0 6 1
netname=AMP_OFFSET
}
N 12100 19600 11900 19600 4
{
T 11800 19600 5 10 1 1 0 6 1
netname=AMP_OFFSET
}
C 25500 18800 1 0 0 TL1431.sym
{
T 26895 19995 5 10 1 1 0 0 1
refdes=U10
T 25495 18795 5 10 0 1 0 0 1
footprint=TO92
T 25500 18800 5 10 0 0 0 0 1
cost=0.36
}
T 24000 18600 9 10 1 0 0 2 2
Stable for load cap <0.01uF or >1uF
Cathode current must be range [1mA, 10mA] -> R <= 2.5k
C 24400 19600 1 0 0 resistor-1.sym
{
T 24700 20000 5 10 0 0 0 0 1
device=RESISTOR
T 24400 19600 5 10 0 0 0 0 1
footprint=0805
T 24400 19600 5 10 0 0 0 0 1
cost=0.10
T 24400 19900 5 10 1 1 0 0 1
refdes=R4
T 25000 19900 5 10 1 1 0 0 1
value=2k
T 24100 19400 5 10 1 0 0 0 1
tolerance=5%
}
C 18800 13000 1 0 0 adc_amp.sym
{
T 21295 14200 5 10 1 1 0 6 1
refdes=U4
T 18800 13000 5 10 0 0 0 0 1
source=adc_amp.sch
}
N 20000 12700 20000 13000 4
N 20500 13000 20500 12800 4
N 21500 13600 21700 13600 4
{
T 21800 13600 5 10 1 1 0 0 1
netname=AC_0
}
N 21500 13900 21700 13900 4
{
T 21800 13900 5 10 1 1 0 0 1
netname=ADC_0
}
C 21900 9400 1 0 0 gnd-1.sym
N 20300 10500 20100 10500 4
{
T 20000 10500 5 10 1 1 0 6 1
netname=AMP_OFFSET
}
C 20300 9900 1 0 0 adc_amp.sym
{
T 22795 11100 5 10 1 1 0 6 1
refdes=U5
T 20300 9900 5 10 0 0 0 0 1
source=adc_amp.sch
}
N 21500 9600 21500 9900 4
N 22000 9900 22000 9700 4
N 23000 10500 23200 10500 4
{
T 23300 10500 5 10 1 1 0 0 1
netname=AC_1
}
N 23000 10800 23200 10800 4
{
T 23300 10800 5 10 1 1 0 0 1
netname=ADC_1
}
C 19400 12700 1 0 0 3.3V-plus-1.sym
N 20000 12700 19600 12700 4
C 20900 9600 1 0 0 3.3V-plus-1.sym
N 21500 9600 21100 9600 4
N 23300 16800 23100 16800 4
{
T 23000 16800 5 10 1 1 0 6 1
netname=V_SRC_1
}
